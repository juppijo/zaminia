<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🌿 Zen Link Manager</title>
<link rel="icon" type="image/x-icon" href="favicon.png">

<style>
:root {
    --bg: linear-gradient(135deg, #667eea, #764ba2);
    --card: #ffffff;
    --text: #333;
    --muted: #888;
    --box: #f5f6fa;
    --link: #667eea;
}

body.dark {
    --bg: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    --card: #1e1f26;
    --text: #e6e6e6;
    --muted: #aaa;
    --box: #2a2c35;
    --link: #8ab4f8;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: system-ui, sans-serif;
    background: var(--bg);
    min-height: 100vh;
    padding: 30px;
    display: flex;
    justify-content: center;
    transition: background 0.6s;
}

.container {
    width: 100%;
    max-width: 850px;
    background: var(--card);
    border-radius: 22px;
    padding: 30px;
    box-shadow: 0 30px 70px rgba(0,0,0,0.35);
    color: var(--text);
    transition: background 0.4s, color 0.4s;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

h1 { font-size: 1.6rem; }

header button {
    margin-left: 8px;
}

.box {
    background: var(--box);
    padding: 20px;
    border-radius: 16px;
    margin-bottom: 22px;
    transition: background 0.4s;
}

.row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

input {
    flex: 1;
    padding: 12px;
    border-radius: 10px;
    border: 2px solid transparent;
    font-size: 14px;
}

input:focus {
    outline: none;
    border-color: var(--link);
}

button {
    padding: 12px 18px;
    border-radius: 10px;
    border: none;
    background: var(--link);
    color: white;
    font-weight: 600;
    cursor: pointer;
}

button.secondary {
    background: #6c757d;
}

button.delete {
    background: #dc3545;
}

button:hover {
    filter: brightness(1.1);
}

ul { list-style: none; }

li {
    background: var(--box);
    padding: 14px;
    border-radius: 14px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: background 0.4s;
}

a {
    flex: 1;
    color: var(--link);
    text-decoration: none;
    word-break: break-all;
}

.empty {
    text-align: center;
    color: var(--muted);
    padding: 30px;
    font-style: italic;
}
</style>
</head>

<body>

<div class="container">
    <header>
        <h1>🌿 Zen Link Manager</h1>
        <div>
            <button onclick="toggleDark()">🌙</button>
            <button onclick="toggleFullscreen()">⛶</button>
        </div>
    </header>

    <div class="box">
        <div class="row">
            <input id="name" placeholder="Name (optional)">
            <input id="url" placeholder="https://…">
            <button onclick="saveLink()">Speichern</button>
        </div>
    </div>

    <div class="box row">
        <button class="secondary" onclick="exportLinks()">Export JSON</button>
        <input type="file" accept=".json" onchange="importLinks(event)">
    </div>

    <ul id="list"></ul>
</div>

<script>
const STORAGE_KEY = "zen_links";
const THEME_KEY = "zen_dark";

const defaultLinks = [
    { name: "Physiker", url: "https://juppijo.github.io/WRZT/Physiker" },
    { name: "Zaminia LisaK", url: "https://juppijo.github.io/zaminia/LisaK" },
    { name: "Links List", url: "https://juppijo.github.io/zaminia/" },
    { name: "WRZT Doppelspalt", url: "https://juppijo.github.io/WRZT/wave_double_slit_f" },
    { name: 'Zami Zen Seiten', url:'https://sites.google.com/view/juppijo/startseite' },
    { name: 'Zaminia Playlist', url:'https://www.youtube.com/playlist?list=PLDhnqFLorBbyTJEfdwYJPcFSPyBTjnAmr' }
    
];

let links = [];
let editIndex = null;

/* ---------- INIT ---------- */
function init() {
    if (localStorage.getItem(THEME_KEY) === "dark") {
        document.body.classList.add("dark");
    }
    const saved = localStorage.getItem(STORAGE_KEY);
    links = saved ? JSON.parse(saved) : defaultLinks;
    save();
    render();
}

/* ---------- THEME ---------- */
function toggleDark() {
    document.body.classList.toggle("dark");
    localStorage.setItem(
        THEME_KEY,
        document.body.classList.contains("dark") ? "dark" : "light"
    );
}

/* ---------- FULLSCREEN ---------- */
function toggleFullscreen() {
    if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
    } else {
        document.exitFullscreen();
    }
}

/* ---------- STORAGE ---------- */
function save() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(links));
}

/* ---------- RENDER ---------- */
function render() {
    const ul = document.getElementById("list");
    if (!links.length) {
        ul.innerHTML = `<div class="empty">Noch keine Links 🌱</div>`;
        return;
    }

    ul.innerHTML = links.map((l, i) => `
        <li>
            <a href="${l.url}" target="_blank">${l.name || l.url}</a>
            <button onclick="editLink(${i})">Edit</button>
            <button class="delete" onclick="removeLink(${i})">✕</button>
        </li>
    `).join("");
}

/* ---------- ADD / EDIT ---------- */
function saveLink() {
    const name = document.getElementById("name");
    const url = document.getElementById("url");

    if (!url.value.trim()) return alert("Bitte URL eingeben 🌸");

    const data = { name: name.value.trim(), url: url.value.trim() };

    if (editIndex !== null) {
        links[editIndex] = data;
        editIndex = null;
    } else {
        links.push(data);
    }

    name.value = "";
    url.value = "";
    save();
    render();
}

function editLink(i) {
    document.getElementById("name").value = links[i].name;
    document.getElementById("url").value = links[i].url;
    editIndex = i;
}

function removeLink(i) {
    if (confirm("Link löschen?")) {
        links.splice(i, 1);
        save();
        render();
    }
}

/* ---------- EXPORT / IMPORT ---------- */
function exportLinks() {
    const blob = new Blob(
        [JSON.stringify(links, null, 2)],
        { type: "application/json" }
    );
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "zen-links.json";
    a.click();
}

function importLinks(e) {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = ev => {
        try {
            links = JSON.parse(ev.target.result);
            save();
            render();
        } catch {
            alert("Ungültige Datei 🌿");
        }
    };
    reader.readAsText(file);
}

init();
</script>

</body>
</html>
